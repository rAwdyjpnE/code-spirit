# WebSocket Protocol

## Эндпоинты

| Роль | Путь | Описание |
| :--- | :--- | :--- |
| Студент | `/ws/student/{user_id}` | Канал для real-time обновлений студента. |
| Админ | `/ws/admin/{session_id}` | Канал для получения обновлений обо всех студентах сессии. |

---

## Сообщения: Клиент → Сервер

| Тип сообщения | Отправитель | Данные | Описание |
| :--- | :--- | :--- | :--- |
| `code_update` | Студент | `{ "code": "..." }` | Отправляется при наборе кода для live-просмотра. |
| `status_update` | Студент | `{ "status": "typing" }` | Уведомляет о смене статуса (typing, online, afk). |
| `view_student` | Админ | `{ "student_id": "..." }` | Подписывает админа на live-просмотр кода конкретного студента. |

---

## Сообщения: Сервер → Клиент

| Тип сообщения | Получатель | Данные | Описание |
| :--- | :--- | :--- | :--- |
| `task_assigned` | Студент | `{ "task": { ... } }` | Отправляется студенту, когда ему назначили новую задачу. |
| `student_update` | Админ | `{ "user_id": "...", "status": "..." }` | Уведомляет админа об изменении статуса студента. |
| `live_code_update` | Админ (целевой) | `{ "user_id": "...", "code": "..." }` | Пересылает код студента админу, который его просматривает. |
```
